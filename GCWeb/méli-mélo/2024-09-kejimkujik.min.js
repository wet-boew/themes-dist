/*!
 * @title Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
 * @license wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html
 * v13.8.0 - 2023-09-13
 *
 */
!function(s,n,i){"use strict";var a="campaign-menu",d="."+a+".gcweb-menu";i.doc.on("timerpoke.wb wb-init.campaign-menu.gcweb-menu",d,function(e){var t=i.init(e,a,d);if(t){e=s(t);if(1<n.querySelectorAll(".gcweb-menu").length)return console.warn(a+" - gcweb menu already exsits on the page, hiding gcweb campaign menu"),void e.addClass("hidden");e.addClass("visible-sm visible-xs");t=n.querySelector("#wb-sm");if(null!=t||null!=t)return console.warn(a+" can't start, megamenu already exsits on the page"),void i.ready(e,a);var r=n.querySelectorAll(d+" > ul > li"),l="",u=0,m=0;s.each(r,function(e,t){u++;var n=t.querySelector("a");n.setAttribute("class","item");var i,a,t=t.querySelectorAll("li");0<t.length?(a="menu-"+ ++m,i="",l+='<li><a href="#'+a+'" class="item" tabindex="0" aria-posinset="'+u+'" aria-setsize="'+r.length+'" role="menuitem" aria-haspopup="true">'+n.textContent,l+="</a>",s.each(t,function(e,t){var n=t.querySelector("a"),t=n.getAttribute("href");i+='<li><a href="'+t+'">'+n.textContent+"</a></li>"}),l+='<ul class="sm list-unstyled" id="'+a+'" role="menu">'+i+"</ul></li>"):(a=n.getAttribute("href"),l+='<li><a href="'+a+'">'+n.textContent+"</a></li>")});l=`
                <nav id="wb-sm" class="campaign-menu wb-menu visible-md visible-lg">
                    <div class="pnl-strt nvbar">
                        <h2>`+n.querySelector(d+" > h2").textContent+`</h2>
                        <ul role="menubar" class="list-inline menu">
                        `+l+`
                        </ul>
                    </div>
                </nav>`;e.after(l),i.ready(e,a),s(".wb-menu").attr("data-trgt","mb-pnl"),s(".wb-menu").after('<div id="mb-pnl" hidden></div>'),s(".wb-menu").after('<div id="wb-glb-mn" hidden><h2> </h2></div>'),s(".wb-menu").trigger("wb-init.wb-menu"),s("#mb-pnl").remove(),s("#wb-glb-mn").remove(),s(".wb-menu").removeAttr("data-trgt")}}),i.add(d)}(jQuery,(window,document),wb);